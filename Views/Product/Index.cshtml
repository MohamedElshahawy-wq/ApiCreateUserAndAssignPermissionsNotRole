@inject IAuthorizationService AuthorizationService

@using Microsoft.AspNetCore.Authorization
@using PermissionBasedAuthorizationIntDotNet5.Contants

@{
    ViewData["Title"] = "Products";
}

<h1>Manage Products</h1>
<hr />

@*@if (AuthorizationService.AuthorizeAsync(User, Permissions.Products.View).Result.Succeeded)
*@
@if (AuthorizationService.AuthorizeAsync(User,"ViewBooks").Result.Succeeded)

{
    <h1>
        U can View All Books
    </h1>

}

@*@if (AuthorizationService.AuthorizeAsync(User, Permissions.Products.Create).Result.Succeeded)
{
    <a href="#" class="btn btn-secondary">Create</a>
}

@if (AuthorizationService.AuthorizeAsync(User, Permissions.Products.Edit).Result.Succeeded)
{
    <a asp-action="Edit" class="btn btn-success">Edit</a>
}

@if (AuthorizationService.AuthorizeAsync(User, Permissions.Products.Delete).Result.Succeeded)
{
    <a href="#" class="btn btn-danger">Delete</a>
}*@